@model testTask.Models.Employee;

@{

    ViewData["Title"] = "Изменить данные о сотруднике";
    var error = TempData["error"]?.ToString();

}

<h1 class="mt-5">Изменить данные о сотруднике</h1>
@if (!string.IsNullOrWhiteSpace(error))
{
    <div class="alert alert-danger">
        <strong>Ошибка! </strong>@error
    </div>
}
<form id="form" name="form" enctype="multipart/form-data" method="post" action="GetById" class="mt-5">
    <div class="mb-3">
        <label for="exampleInputEmail1" class="form-label">Id</label>
        <input type="text" class="form-control" asp-for="Id" readonly />
    </div>
    <div class="mb-3">
        <label for="exampleInputEmail1" class="form-label">Фамилия</label>
        <input type="text" class="form-control" id="lastName" onkeyup="this.value = this.value.replace(/[0-9]/,'');" name="lastName" data-reg="^([а-яА-ЯёЁ]+[\\s\\-]?){1,3}$" asp-for="LastName" />
    </div>
    <div class="mb-3">
        <label for="exampleInputEmail1" class="form-label">Имя</label>
        <input type="text" class="form-control" id="firstName" onkeyup="this.value = this.value.replace(/[0-9]/,'');" name="firstName" data-reg="^([а-яА-ЯёЁ]+[\\s\\-]?){1,3}$" asp-for="FirstName" />
    </div>
    <div class="mb-3">
        <label for="exampleInputEmail1" class="form-label">Отчество</label>
        <input type="text" class="form-control" id="surname" onkeyup="this.value = this.value.replace(/[0-9]/,'');" name="surname" data-reg="^([а-яА-ЯёЁ]+[\\s\\-]?){1,3}$" asp-for="Surname" />
    </div>
    <div class="mb-3">
        <label for="exampleInputEmail1" class="form-label">Отдел</label>
        <select type="text" class="form-control" asp-items="ViewBag.Department" asp-for="DepartmentId"></select>
    </div>
    <div class="mb-3">
        <label for="exampleInputEmail1" class="form-label">Номер телефона</label>
        <input type="text" class="form-control" id="phone" name="phone" data-reg="^(\s*)?(\+)?([- _():=+]?\d[- _():=+]?){11,14}(\s*)?$" asp-for="Phone" />
    </div>
    <div class="mb-3">
        <img id="avatar" style='width:150px; height:150px;' src="data:image/jpeg;base64,@(Convert.ToBase64String(Model.Avatar))" /></td>
    </div>
     <div class="mb-3">
        <input id="avatar" type="file" name="AvatarFile" class="form-control" asp-for="AvatarFile" />
    </div>
    <div>
        <button type="submit" style="width: 200px" asp-action="SaveChanges" class="btn btn-primary mb-5 mt-3">Сохранить изменения</button>
        <button type="submit" style="width: 200px" asp-action="Delete" class="btn btn-danger mb-5 mt-3">Удалить</button>
        <button type="submit" style="width: 200px" asp-action="StepBack" asp-controller="Employee" class="btn btn-secondary mb-5 mt-3">Назад</button>
    </div>
</form>


